<?xml version="1.0" encoding="UTF-8"?>

<section xml:id="sec-quaternions" xmlns:xi="http://www.w3.org/2001/XInclude">
    <title>Quaternion algebra</title>
    <introduction>
        <p>
            Throughout this section we assume that <m>F</m> is a field with <m>{\rm ch}(F)\neq 2</m>. The set of nonzero elements of <m>F</m> is denoted by <m>\dot{F}</m>.
        </p>
    </introduction>
    <definition xml:id="def-quaternion-algebra">
        <title>Quaternion algebra</title>
        
        
        <statement>
            <p>
                Let <m>a,b\in\dot{F}</m>. The <em>quaternion algebra</em> <m>(a,b)_F</m> or <m>\left(\tfrac{a,b}{F}\right)</m> is the four-dimensional <m>F</m>-vector space with basis <m>\{1,i,j,k\}</m> and multiplication defined by the following relations and with <m>1</m> as unity of <m>(a,b)_F</m>.
                <men xml:id="eq-defining-relations-in-quaternion-algebra">    
                    i^2 = a\cdot 1, \quad j^2 = b\cdot 1, \quad ij = k = -ji.
                </men>
                We assume the associativity of multiplication and extend the multiplication to all elements of <m>(a,b)_F</m> by distributivity and linearity.
            </p>
            <p>
                We get the following relations.
                <men xml:id="eq-relations-in-quaternion-algebra">
                    k^2 = -ab\cdot 1, \quad jk = -kj = -bi, \quad ki = -ik = -aj.
                </men>
            </p>
        </statement>
    </definition>
    <note>
        <statement>
            <p>
                Keep notations of <xref ref="def-quaternion-algebra"/>. The map <m>F\to (a,b)_F</m> defined by <m>r\mapsto r\cdot 1</m> is an injective ring homomorphism. Thus, we can identify <m>F</m> as a subalgebra of <m>(a,b)_F</m>.
            </p>
        </statement>
    </note>
    <note xml:id="note-hamiltonian-quaternion-algebra">
        <title>Hamiltonian quaternion algebra</title>
        <statement>
            <p>
                The algebra <m>(-1,-1)_\R</m> is <em>Hamiltonion</em> quaternion algebra over the field of real numbers <m>\R</m>. It is usually denoted by <m>\mathbb{H}</m>.
            </p>
        </statement>
    </note>
    <exercise xml:id="ex-2-by-2-matrices-as-quaternion-algebra">
        <title><m>M_2(F)</m> as a quaternion algebra</title>
        <statement>
            <p>
                Let <m>F</m> be a field of characteristic not <m>2</m> and <m>b\in F</m> a nonzero element. Consider the following matrices.
                <me>
                    X=\begin{pmatrix}1\amp 0\\0\amp -1\end{pmatrix}\quad\text{and}\quad Y=\begin{pmatrix}0\amp b\\1\amp 0\end{pmatrix}
                </me>
                Show that <m>X^2=I_2</m>, <m>Y^2=b\cdot I_2</m>, and that <m>XY=-YX</m>. Further show that <m>\{1,X,Y,XY\}</m> is linearly independent over <m>F</m>. Conclude that <m>(1,b)_F\simeq M_2(F)</m> as an <m>F</m>-algebra.
            </p>
        </statement>
    </exercise>
    <definition xml:id="def-degree-of-quaternion-algebra">
        <title>Degree of Quaternion algebra</title>
        
        
        <statement>
            <p>
                Let <m>Q=(a,b)_F</m> be a quaternion algebra over a field <m>F</m> of characteristic different from <m>2</m>. The <term>degree</term> of <m>Q</m>, <m>\deg Q=\sqrt{\dim_FQ}</m>, i.e., <m>\deg Q=2</m>.
            </p>
        </statement>
    </definition>
    <definition xml:id="def-simple-algebra">
        <title>Simple algebra</title>
        
        
        <statement>
            <p>
                Let <m>A</m> be an <m>F</m>-algebra of finite dimension as an <m>F</m>-vector space. We say that <m>A</m> is a <em>simple algebra</em> if the only two-sided ideals of <m>A</m> are <m>0</m> and <m>A</m>.
            </p>
        </statement>
    </definition>
    <proposition xml:id="prop-quaternion-algebra-is-simple">
        <statement>
            <p>
                Let <m>A=(a,b)_F</m> be a quaternion algebra over <m>F</m>. Then, <m>A</m> is a simple algebra with center <m>F</m>.
            </p>
        </statement>
    </proposition>
    <proof>
        <p>
            Let <m>I</m> be a nonzero two-sided ideal of <m>A</m>. We show that <m>I=A</m>. Let <m>x\in I</m> be a nonzero element. Then, we can write <m>x=x_01+x_1i+x_2j+x_3k</m> for some <m>x_0,x_1,x_2,x_3\in F</m>. For <m>x,y\in A</m> we write <m>[x,y]=xy-yx</m>. Then, we have the following relations.
            <md>
                <mrow>[i,x] \amp=2ax_3j+2x_2k\in I </mrow>
                <mrow>[j,x] \amp=-2bx_3i-2x_1k\in I</mrow>
                <mrow>[k,x] \amp=2bx_2i-2ax_1j\in I </mrow>
            </md>
            Now <m>[j,[i,x]]=-4bx_2i</m>, <m>[k,[j,x]]=4abx_3j</m>, and <m>[i,[k,x]]=-4ax_1k</m>. So, if one of <m>x_1,x_2,x_3</m> is nonzero then, <m>I</m> will contain a unit, and thus, <m>I=A</m>. If <m>x_1=x_2=x_3=0</m>, then <m>x=x_01\in I</m> for some nonzero <m>x_0\in F</m>. Thus, <m>1=x_0^{-1}x\in I</m>, and hence, <m>I=A</m>.
        </p>
        <p>
            If <m>x\in Z(A)</m> then we must have <m>[i,x]=[j,x]=[k,x]=0</m>. This implies that <m>x=x_0\cdot 1</m>. Thus, <m>Z(A)=F</m>.
        </p>
    </proof>
    <definition xml:id="def-canonical-involution-on-quaternion">
        <title>Canonical involution of Quaternion algebra</title>

        <statement>
            <p>
                Let <m>F</m> be a field of characteristic not <m>2</m>, and <m>(a,b)_F</m> a quaternion algebra. The <term>canonical involution</term> on <m>(a,b)_F</m> is <m>\gamma\colon(a,b)_F\to(a,b)_F</m> given by
                <me>
                    a_0+a_1i+a_2j+a_3k\mapsto a_0-a_1i-a_2j-a_3k.
                </me>
            </p>
        </statement>
    </definition>
    <note>
        <statement>
            <p>
                The canonical involution is an antiautomorphism of order <m>2</m>, i.e., for any <m>x\in Q</m> we have the following. 
                <me>
                    \gamma(xy)=\gamma(y)\gamma(x)\quad\text{and}\quad\gamma\left(\gamma(x)\right)=x
                </me>
            </p>
            <p>
                Furthermore, <m>\gamma(x)=x</m> if and only if <m>x\in F</m>.
            </p>
        </statement>
    </note>
    <definition xml:id="def-space-of-pure-quaternions">
        <title>Pure quaternions</title>
        <statement>
            <p>
                Let <m>F</m> be a field of characteristic different from <m>2</m>, and <m>Q=(a,b)_F</m> be a quaternion algebra over <m>F</m>. The vector subspace of <em>pure quaternions</em> <m>Q_+</m> is a vector subspace of <m>Q=(a,b)_F</m> spanned by <m>i,j,k</m>, i.e., <me>Q_+=\{a_1i+a_2j+a_3k:a_1,a_2,a_3\in F\}.</me>
            </p> 
        </statement>
    </definition>

    <lemma xml:id="lem-square-of-pure-quaternion">
        <statement>
            <p>
                Let <m>F</m> be a field of characteristic different from <m>2</m>, and <m>Q</m> be a quaternion algebra over <m>F</m>. Then,
                <ol>
                    <li>
                        <p>
                            <m>q\in Q_+</m> implies that <m>q\gamma(q)=-q^2</m>, and
                        </p>
                    </li>
                    <li>
                        <p>
                            <m>x\in Q_+</m> if and only if <m>x\not\in F</m> and <m>x^2\in F</m>.
                        </p>
                    </li>
                </ol>
            </p>
        </statement>
    </lemma>
</section>